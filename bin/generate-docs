#!/usr/bin/env node

/**
 * Annotate classes.
 */
var path          = require('path');
var fs            = require('fs');
var File          = require('./helpers/file');
var Documentation = require('./helpers/documentation');

/**
 * Defaults.
 */
var rootPath = path.resolve(__dirname, '..');
var documentationEntry = {
    _name: 'Documentation',
    _path: '/../'
};
var frameworkEntry = {
    _name: 'Framework',
    _path: '/'
};

/**
 * Clear files.
 */
fs.unlink(path.join(rootPath, 'build', 'sitemap.json'));
fs.unlink(path.join(rootPath, 'build', 'sitemap.xml'));

/**
 * Generate documentation.
 */
var readme = new File({
    entry: 'readme',
    icon: 'fa-file-text-o',
    breadcrumbs: [ documentationEntry, frameworkEntry ],
    inputPath: path.join(rootPath, 'node_modules', 'greppy', 'README.md'),
    title: 'Readme'
}).build();

var changelog = new File({
    entry: 'changelog',
    icon: 'fa-clock-o',
    breadcrumbs: [ documentationEntry, frameworkEntry ],
    inputPath: path.join(rootPath, 'node_modules', 'greppy', 'CHANGELOG.md'),
    title: 'Changelog'
}).build();

var examples = new Documentation({
    entry: 'cookbook',
    breadcrumbs: [ documentationEntry, frameworkEntry ],
    titleRoot: 'Cookbook',
    title: 'Cookbook &bull; {{section._name}}'
}).build();

var guide = new Documentation({
    entry: 'guide',
    breadcrumbs: [ documentationEntry, frameworkEntry ],
    titleRoot: 'Guide',
    title: 'Guide &bull; {{section._name}}'
}).build();

